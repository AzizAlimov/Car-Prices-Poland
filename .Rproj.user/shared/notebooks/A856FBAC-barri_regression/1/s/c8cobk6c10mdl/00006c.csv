"0","sqrtz=rep(1,n) "
"0","sqrtz[subset_trial$mark_cat==""Euro""]=0.1"
"0","sqrtz[subset_trial$mark_cat==""US""]=0.1"
"0","sqrtz[subset_trial$mark_cat==""Asia""]=0.1"
"0","z=sqrtz^2"
"0","w=1/z # weight functions for WLS"
"0","wTrain=w[trainIndex]"
"0","wHoldo=w[-trainIndex] "
"0","WLSTrain=lm(price~mark_cat+year+mileage_cat+log_vol_engine+fuel+car_type+gdpc,data=train, weights = sqrt(mileage)/sqrt(year))"
"0","plot(WLSTrain$fitted.values, WLSTrain$residuals)"
